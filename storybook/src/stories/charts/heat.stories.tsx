import { Heat, HeatChartsProps } from '@charts';
import type { Meta, StoryObj } from '@storybook/react';
import './chart.css';

export default {
  title: 'Charts/Heat 热力图',
  tags: ['autodocs'],
  component: Heat,
} satisfies Meta<typeof Heat>;
type Story = StoryObj<typeof Heat>;

const HeatChartTemplate = ({ ...rest }: HeatChartsProps) => {
  return (
    <div className="charts">
      <Heat {...rest} />
    </div>
  );
};

// HeatMap（笛卡尔坐标系热力图）
export const HeatMap: Story = {
  render: HeatChartTemplate,
};

HeatMap.args = {
  data: {
    tooltip: {
      position: 'top',
    },
    xAxis: {
      type: 'category',
      splitArea: {
        show: true,
      },
      data: [
        '1个月后',
        '2个月后',
        '3个月后',
        '4个月后',
        '5个月后',
        '6个月后',
        '7个月后',
        '8个月后',
        '9个月后',
        '10个月后',
      ],
    },
    yAxis: {
      type: 'category',
      splitArea: {
        show: true,
      },
      data: [
        '20.01',
        '20.02',
        '20.03',
        '20.04',
        '20.05',
        '20.06',
        '20.07',
        '20.08',
        '20.09',
        '20.10',
      ],
    },
    visualMap: {
      min: 30,
      max: 100,
      inRange: {
        color: ['#e0ffff', '#006edd'],
      },
    },
    series: [
      {
        name: '留存率',
        label: {
          show: true,
          formatter: (params) => {
            return params?.value?.[2] + '%';
          },
        },
        emphasis: {
          itemStyle: {
            shadowBlur: 10,
            shadowColor: 'rgba(0, 0, 0, 0.5)',
          },
        },
        data: [
          [0, 0, 96],

          [0, 1, 100],
          [1, 1, 95],

          [0, 2, 97],
          [1, 2, 95],
          [2, 2, 91],

          [0, 3, 100],
          [1, 3, 95],
          [2, 3, 90],
          [3, 3, 81],

          [0, 4, 98.54],
          [1, 4, 95],
          [2, 4, 90],
          [3, 4, 83],
          [4, 4, 80],

          [0, 5, 100],
          [1, 5, 95],
          [2, 5, 90],
          [3, 5, 83],
          [4, 5, 80],
          [5, 5, 80],

          [0, 6, 100],
          [1, 6, 95],
          [2, 6, 90],
          [3, 6, 83],
          [4, 6, 80],
          [5, 6, 80],
          [6, 6, 75],

          [0, 7, 100],
          [1, 7, 95],
          [2, 7, 90],
          [3, 7, 83],
          [4, 7, 80],
          [5, 7, 80],
          [6, 7, 75],
          [7, 7, 70],

          [0, 8, 100],
          [1, 8, 95],
          [2, 8, 90],
          [3, 8, 83],
          [4, 8, 80],
          [5, 8, 80],
          [6, 8, 75],
          [7, 8, 70],
          [8, 8, 60],

          [0, 9, 100],
          [1, 9, 95],
          [2, 9, 90],
          [3, 9, 83],
          [4, 9, 80],
          [5, 9, 80],
          [6, 9, 75],
          [7, 9, 70],
          [8, 9, 60],
          [9, 9, 50],
        ],
      },
    ],
  },
};
HeatMap.storyName = 'HeatMap（笛卡尔坐标系热力图）';

// CalendarHeatmap（日历坐标系热力图）
export const CalendarHeatmap: Story = {
  render: HeatChartTemplate,
};

const dateData = [
  ['2023-01-01', 16],
  ['2023-01-02', 20],
  ['2023-01-03', 27],
  ['2023-01-04', 7],
  ['2023-01-05', 7],
  ['2023-01-06', 5],
  ['2023-01-07', 9],
  ['2023-01-08', 14],
  ['2023-01-09', 1],
  ['2023-01-10', 27],
  ['2023-01-11', 15],
  ['2023-01-12', 21],
  ['2023-01-13', 34],
  ['2023-01-14', 6],
  ['2023-01-15', 19],
  ['2023-01-16', 32],
  ['2023-01-17', 23],
  ['2023-01-18', 2],
  ['2023-01-19', 30],
  ['2023-01-20', 10],
  ['2023-01-21', 3],
  ['2023-01-22', 25],
  ['2023-01-23', 28],
  ['2023-01-24', 6],
  ['2023-01-25', 6],
  ['2023-01-26', 34],
  ['2023-01-27', 12],
  ['2023-01-28', 9],
  ['2023-01-29', 39],
  ['2023-01-30', 2],
  ['2023-01-31', 18],
  ['2023-02-01', 5],
  ['2023-02-02', 28],
  ['2023-02-03', 21],
  ['2023-02-04', 17],
  ['2023-02-05', 8],
  ['2023-02-06', 17],
  ['2023-02-07', 25],
  ['2023-02-08', 10],
  ['2023-02-09', 20],
  ['2023-02-10', 35],
  ['2023-02-11', 19],
  ['2023-02-12', 20],
  ['2023-02-13', 35],
  ['2023-02-14', 27],
  ['2023-02-15', 36],
  ['2023-02-16', 18],
  ['2023-02-17', 23],
  ['2023-02-18', 36],
  ['2023-02-19', 20],
  ['2023-02-20', 30],
  ['2023-02-21', 22],
  ['2023-02-22', 19],
  ['2023-02-23', 34],
  ['2023-02-24', 28],
  ['2023-02-25', 1],
  ['2023-02-26', 35],
  ['2023-02-27', 6],
  ['2023-02-28', 14],
  ['2023-03-01', 7],
  ['2023-03-02', 37],
  ['2023-03-03', 38],
  ['2023-03-04', 10],
  ['2023-03-05', 37],
  ['2023-03-06', 35],
  ['2023-03-07', 11],
  ['2023-03-08', 29],
  ['2023-03-09', 29],
  ['2023-03-10', 38],
  ['2023-03-11', 36],
  ['2023-03-12', 12],
  ['2023-03-13', 15],
  ['2023-03-14', 21],
  ['2023-03-15', 18],
  ['2023-03-16', 36],
  ['2023-03-17', 38],
  ['2023-03-18', 27],
  ['2023-03-19', 22],
  ['2023-03-20', 29],
  ['2023-03-21', 9],
  ['2023-03-22', 17],
  ['2023-03-23', 18],
  ['2023-03-24', 31],
  ['2023-03-25', 12],
  ['2023-03-26', 16],
  ['2023-03-27', 1],
  ['2023-03-28', 35],
  ['2023-03-29', 9],
  ['2023-03-30', 8],
  ['2023-03-31', 23],
  ['2023-04-01', 13],
  ['2023-04-02', 24],
  ['2023-04-03', 16],
  ['2023-04-04', 5],
  ['2023-04-05', 20],
  ['2023-04-06', 17],
  ['2023-04-07', 38],
  ['2023-04-08', 4],
  ['2023-04-09', 34],
  ['2023-04-10', 39],
  ['2023-04-11', 5],
  ['2023-04-12', 37],
  ['2023-04-13', 17],
  ['2023-04-14', 15],
  ['2023-04-15', 25],
  ['2023-04-16', 31],
  ['2023-04-17', 0],
  ['2023-04-18', 5],
  ['2023-04-19', 20],
  ['2023-04-20', 2],
  ['2023-04-21', 25],
  ['2023-04-22', 29],
  ['2023-04-23', 2],
  ['2023-04-24', 27],
  ['2023-04-25', 6],
  ['2023-04-26', 17],
  ['2023-04-27', 15],
  ['2023-04-28', 34],
  ['2023-04-29', 10],
  ['2023-04-30', 13],
  ['2023-05-01', 0],
  ['2023-05-02', 13],
  ['2023-05-03', 14],
  ['2023-05-04', 3],
  ['2023-05-05', 10],
  ['2023-05-06', 10],
  ['2023-05-07', 24],
  ['2023-05-08', 34],
  ['2023-05-09', 33],
  ['2023-05-10', 34],
  ['2023-05-11', 5],
  ['2023-05-12', 30],
  ['2023-05-13', 20],
  ['2023-05-14', 18],
  ['2023-05-15', 4],
  ['2023-05-16', 18],
  ['2023-05-17', 7],
  ['2023-05-18', 39],
  ['2023-05-19', 3],
  ['2023-05-20', 2],
  ['2023-05-21', 16],
  ['2023-05-22', 17],
  ['2023-05-23', 19],
  ['2023-05-24', 35],
  ['2023-05-25', 12],
  ['2023-05-26', 6],
  ['2023-05-27', 9],
  ['2023-05-28', 2],
  ['2023-05-29', 13],
  ['2023-05-30', 32],
  ['2023-05-31', 36],
  ['2023-06-01', 23],
  ['2023-06-02', 34],
  ['2023-06-03', 12],
  ['2023-06-04', 16],
  ['2023-06-05', 8],
  ['2023-06-06', 4],
  ['2023-06-07', 12],
  ['2023-06-08', 10],
  ['2023-06-09', 39],
  ['2023-06-10', 38],
  ['2023-06-11', 27],
  ['2023-06-12', 26],
  ['2023-06-13', 32],
  ['2023-06-14', 31],
  ['2023-06-15', 12],
  ['2023-06-16', 34],
  ['2023-06-17', 16],
  ['2023-06-18', 37],
  ['2023-06-19', 25],
  ['2023-06-20', 22],
  ['2023-06-21', 8],
  ['2023-06-22', 28],
  ['2023-06-23', 15],
  ['2023-06-24', 17],
  ['2023-06-25', 23],
  ['2023-06-26', 1],
  ['2023-06-27', 27],
  ['2023-06-28', 4],
  ['2023-06-29', 16],
  ['2023-06-30', 28],
  ['2023-07-01', 31],
  ['2023-07-02', 18],
  ['2023-07-03', 31],
  ['2023-07-04', 33],
  ['2023-07-05', 18],
  ['2023-07-06', 12],
  ['2023-07-07', 23],
  ['2023-07-08', 8],
  ['2023-07-09', 19],
  ['2023-07-10', 2],
  ['2023-07-11', 14],
  ['2023-07-12', 32],
  ['2023-07-13', 1],
  ['2023-07-14', 20],
  ['2023-07-15', 5],
  ['2023-07-16', 2],
  ['2023-07-17', 7],
  ['2023-07-18', 32],
  ['2023-07-19', 20],
  ['2023-07-20', 23],
  ['2023-07-21', 14],
  ['2023-07-22', 16],
  ['2023-07-23', 27],
  ['2023-07-24', 33],
  ['2023-07-25', 4],
  ['2023-07-26', 6],
  ['2023-07-27', 10],
  ['2023-07-28', 27],
  ['2023-07-29', 5],
  ['2023-07-30', 34],
  ['2023-07-31', 0],
  ['2023-08-01', 4],
  ['2023-08-02', 3],
  ['2023-08-03', 17],
  ['2023-08-04', 20],
  ['2023-08-05', 1],
  ['2023-08-06', 3],
  ['2023-08-07', 14],
  ['2023-08-08', 22],
  ['2023-08-09', 4],
  ['2023-08-10', 3],
  ['2023-08-11', 20],
  ['2023-08-12', 35],
  ['2023-08-13', 22],
  ['2023-08-14', 9],
  ['2023-08-15', 31],
  ['2023-08-16', 35],
  ['2023-08-17', 3],
  ['2023-08-18', 14],
  ['2023-08-19', 30],
  ['2023-08-20', 11],
  ['2023-08-21', 11],
  ['2023-08-22', 7],
  ['2023-08-23', 12],
  ['2023-08-24', 36],
  ['2023-08-25', 30],
  ['2023-08-26', 10],
  ['2023-08-27', 34],
  ['2023-08-28', 30],
  ['2023-08-29', 4],
  ['2023-08-30', 4],
  ['2023-08-31', 30],
  ['2023-09-01', 14],
  ['2023-09-02', 24],
  ['2023-09-03', 26],
  ['2023-09-04', 13],
  ['2023-09-05', 22],
  ['2023-09-06', 37],
  ['2023-09-07', 8],
  ['2023-09-08', 19],
  ['2023-09-09', 6],
  ['2023-09-10', 7],
  ['2023-09-11', 27],
  ['2023-09-12', 39],
  ['2023-09-13', 8],
  ['2023-09-14', 19],
  ['2023-09-15', 18],
  ['2023-09-16', 24],
  ['2023-09-17', 37],
  ['2023-09-18', 35],
  ['2023-09-19', 20],
  ['2023-09-20', 23],
  ['2023-09-21', 39],
  ['2023-09-22', 12],
  ['2023-09-23', 39],
  ['2023-09-24', 11],
  ['2023-09-25', 34],
  ['2023-09-26', 16],
  ['2023-09-27', 6],
  ['2023-09-28', 10],
  ['2023-09-29', 2],
  ['2023-09-30', 5],
  ['2023-10-01', 20],
  ['2023-10-02', 21],
  ['2023-10-03', 5],
  ['2023-10-04', 10],
  ['2023-10-05', 17],
  ['2023-10-06', 35],
  ['2023-10-07', 29],
  ['2023-10-08', 6],
  ['2023-10-09', 31],
  ['2023-10-10', 24],
  ['2023-10-11', 25],
  ['2023-10-12', 18],
  ['2023-10-13', 5],
  ['2023-10-14', 36],
  ['2023-10-15', 24],
  ['2023-10-16', 35],
  ['2023-10-17', 34],
  ['2023-10-18', 20],
  ['2023-10-19', 8],
  ['2023-10-20', 30],
  ['2023-10-21', 23],
  ['2023-10-22', 24],
  ['2023-10-23', 7],
  ['2023-10-24', 7],
  ['2023-10-25', 13],
  ['2023-10-26', 10],
  ['2023-10-27', 22],
  ['2023-10-28', 22],
  ['2023-10-29', 20],
  ['2023-10-30', 26],
  ['2023-10-31', 10],
  ['2023-11-01', 14],
  ['2023-11-02', 4],
  ['2023-11-03', 12],
  ['2023-11-04', 16],
  ['2023-11-05', 38],
  ['2023-11-06', 28],
  ['2023-11-07', 39],
  ['2023-11-08', 36],
  ['2023-11-09', 5],
  ['2023-11-10', 21],
  ['2023-11-11', 8],
  ['2023-11-12', 1],
  ['2023-11-13', 36],
  ['2023-11-14', 34],
  ['2023-11-15', 15],
  ['2023-11-16', 22],
  ['2023-11-17', 23],
  ['2023-11-18', 11],
  ['2023-11-19', 7],
  ['2023-11-20', 22],
  ['2023-11-21', 11],
  ['2023-11-22', 11],
  ['2023-11-23', 8],
  ['2023-11-24', 35],
  ['2023-11-25', 15],
  ['2023-11-26', 7],
  ['2023-11-27', 31],
  ['2023-11-28', 18],
  ['2023-11-29', 22],
  ['2023-11-30', 12],
  ['2023-12-01', 25],
  ['2023-12-02', 26],
  ['2023-12-03', 23],
  ['2023-12-04', 7],
  ['2023-12-05', 39],
  ['2023-12-06', 1],
  ['2023-12-07', 8],
  ['2023-12-08', 9],
  ['2023-12-09', 38],
  ['2023-12-10', 14],
  ['2023-12-11', 27],
  ['2023-12-12', 18],
  ['2023-12-13', 25],
  ['2023-12-14', 34],
  ['2023-12-15', 19],
  ['2023-12-16', 6],
  ['2023-12-17', 33],
  ['2023-12-18', 0],
  ['2023-12-19', 5],
  ['2023-12-20', 1],
  ['2023-12-21', 37],
  ['2023-12-22', 3],
  ['2023-12-23', 14],
  ['2023-12-24', 38],
  ['2023-12-25', 15],
  ['2023-12-26', 33],
  ['2023-12-27', 4],
  ['2023-12-28', 12],
  ['2023-12-29', 3],
  ['2023-12-30', 37],
  ['2023-12-31', 35],
];

CalendarHeatmap.args = {
  data: {
    color: ['#2C643B', '#8D2B2D'],
    visualMap: {
      min: 0,
      max: 40,
      inRange: {
        color: [
          '#67B984',
          '#449657',
          '#2C643B',
          '#C2C4CC',
          '#E78383',
          '#DF484C',
          '#8D2B2D',
        ],
      },
    },
    calendar: {
      cellSize: [16, 16],
      dayLabel: {
        nameMap: 'ZH',
      },
      monthLabel: {
        nameMap: 'ZH',
      },
      itemStyle: {
        color: '#FFFFFF',
        borderWidth: 0,
      },
      splitLine: {
        lineStyle: {
          color: '#FFFFFF',
        },
      },
      range: '2023',
    },
    series: [
      {
        coordinateSystem: 'calendar',
        name: '浮动盈亏',
        itemStyle: {
          borderColor: '#FFFFFF',
          borderWidth: 2,
          borderRadius: 3,
        },
        data: dateData,
      },
    ],
  },
};
CalendarHeatmap.storyName = 'CalendarHeatmap（日历坐标系热力图）';
